{"version":3,"sources":["app/js/main.js","app/js/services.js","app/js/controllers.js","app/js/directives.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC3JA;CCAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public\\js\\app.js","sourcesContent":["var Registraduria = angular.module(\"Registraduria\",[\"ui.router\",\"ui.bootstrap\",\"angularUtils.directives.dirPagination\",\"ui.slimscroll\",\"fox.scrollReveal\",\"ngRoute\",\"ngMap\",\"ngMaterial\",\"chart.js\",\"smoothScroll\",\"ngAside\"], function($interpolateProvider) {\r\n\t$interpolateProvider.startSymbol('[[');\r\n\t$interpolateProvider.endSymbol(']]');\r\n\r\n})\r\n\r\n.config(function($routeProvider,$locationProvider){\r\n\r\n\t\r\n       \r\n\t$routeProvider\r\n\t\t.when(\"/\",{\r\n\t\t\tcontroller:\"HomeCtrl\",\r\n\t\t\ttemplateUrl: \"views/home.blade.php\"\r\n\t\t})\r\n\t\t.when(\"/login\",{\r\n\t\t\tcontroller:\"LoginCtrl\",\r\n\t\t\ttemplateUrl: \"views/auth/login.blade.php\",\r\n\t\t})\r\n\t\t.when(\"/remember\",{\r\n\t\t\tcontroller:\"LoginCtrl\",\r\n\t\t\ttemplateUrl: \"views/auth/remember.blade.php\",\r\n\t\t})\r\n\t\t.when(\"/reset_password/:n/:c*\",{\r\n\t\t\tcontroller:\"ChangePasswordCtrl\",\r\n\t\t\ttemplateUrl: \"views/auth/reset_password.blade.php\"\r\n\t\t})\r\n\t\t.when(\"/start\",{\r\n\t\t\tcontroller:\"StartCtrl\",\r\n\t\t\ttemplateUrl: \"views/start.blade.php\"\r\n\t\t})\r\n\t\t.when(\"/signup\",{\r\n\t\t\tcontroller:\"SignupCtrl\",\r\n\t\t\ttemplateUrl: \"views/auth/signup.blade.php\"\r\n\t\t})\r\n\t\t.when(\"/verify_account/:n/:c*\",{\r\n\t\t\tcontroller:\"VerifyCtrl\",\r\n\t\t\ttemplateUrl: \"views/auth/verify.blade.php\"\r\n\t\t})\r\n\t\t.otherwise({\r\n\t        redirectTo: '/'\r\n\t    })\r\n\r\n\t/*$locationProvider.html5Mode(true);\r\n\t$locationProvider.hashPrefix('!');*/\r\n\t\r\n})\r\n\r\n\r\n\r\n.config(function(paginationTemplateProvider) {\r\n    paginationTemplateProvider.setPath('views/common/dirPagination.tpl.html');\r\n})\r\n\r\n\r\n.run(function($http) {\r\n  $http.defaults.headers.common['X-CSRF-TOKEN'] = $('meta[name=csrf-token]').attr('content')\r\n})\r\n\r\n\r\n.run(function($rootScope,$location,$timeout,$window) {\r\n\r\n\t $rootScope.goTo = function(url){\r\n\r\n\t\t$location.path(url);\r\n\t\t\r\n\t}\r\n\r\n\t//oculta o muestra el boton de volver a arriba segun el scroll\r\n\t$(window).scroll(function(){\r\n        if ($(this).scrollTop() > ($('#header').offset().top + $('#header').height() - 1 )) {\r\n            $('#backTop').fadeIn();\r\n            $('.navbar-default').addClass( \"bg-gradient-1 active\" );\r\n            $('.navbar-default .color-1').addClass( \"color-2 bd-2\" );\r\n            $('.navbar-default .color-1').removeClass( \"color-1 bd-1\" );\r\n        } else {\r\n            $('#backTop').fadeOut();\r\n            $('.navbar-default').removeClass( \"bg-gradient-1 active\" );\r\n            $('.navbar-default .color-2').addClass( \"color-1 bd-1\" );\r\n            $('.navbar-default .color-2').removeClass( \"color-2 bd-2\" );\r\n        }\r\n    });\r\n\r\n\r\n\r\n\t/*$('.pager a').click(function () {\r\n\r\n\t\t$('html, body').animate({ scrollTop: $('.pager').offset().top }, 0);\r\n\r\n\t})*/\r\n\r\n\t$( \".page-num\" ).click(function() {\r\n\t});\r\n\r\n\r\n\r\n\t/*$rootScope.$on('$viewContentLoaded', function() {\r\n\t\t$rootScope.menusListSelected = $rootScope.menusList[$rootScope.activeMenu].title;\r\n\t    $rootScope.subMenusListSelected = $rootScope.activeSubMenu < 4 ? $rootScope.subMenusList[$rootScope.activeMenu][$rootScope.activeSubMenu].title : '';\r\n\t});*/\r\n\r\n    $rootScope.$on('$stateChangeSuccess', function(){\r\n\r\n    \t$rootScope.windowHeight = $window.innerHeight;\r\n    \t$rootScope.windowWidth = $window.innerWidth;\r\n    \t$timeout(function(){    \t\t\r\n    \t\t$rootScope.viewContentLoaded = true;\r\n\t    }, 1000)\r\n    \t/*$timeout(function(){    \t\t\r\n\t        $('.modal-backdrop ').hide()\r\n\t\t \t$('html, body').animate({ scrollTop: $('#view').offset().top }, 0);\r\n\t    }, 10)*/\r\n\t});\r\n\r\n\r\n    //listado de los submenus de cada vista multiple\r\n\t$rootScope.subMenusList = [\r\n\r\n\t\t[\r\n\r\n\t\t\t{title: \"Decisiones en línea\",url: \"/start/decisions\"},{title: \"Canal en vivo\"},\r\n\t\t\t{title: \"Espacio de Expresión\",url: \"/start/space\"},{title: \"Histórico y Estadisticas del Movimiento\",url: \"/start/history\"}\r\n\t\t],\r\n\t\t[\r\n\r\n\t\t\t{title: \"Valores\",url: \"/start/values\"},{title: \"Plan estratéfico con enfoque de innovación social\"},\r\n\t\t\t{title: \"Colectivo de trabajo\",url: \"/start/collective\"},{title: \"Iniciativas del Movimiento\",url: \"/start/initiatives\"}\r\n\t\t],\r\n\t\t[\r\n\r\n\t\t\t{title: \"Valores\",url: \"/start/values\"},{title: \"Plan estratéfico con enfoque de innovación social\"},\r\n\t\t\t{title: \"Colectivo de trabajo\",url: \"/start/collective\"},{title: \"Iniciativas del Movimiento\",url: \"/start/initiatives\"}\r\n\t\t],\r\n\t\t[\r\n\r\n\t\t\t{title: \"Proyectos, Documentación,Material de consulta\",url: \"/start/documents\"},{title: \"Blog y Noticias\"},\r\n\t\t\t{title: \"Seguimiento\",url: \"/start/tools\"},{title: \"Rendición de cuentas\",url: \"/start/tools\"}\r\n\t\t],\r\n\t]\r\n\r\n\t//listado de los menus de la barra superior\r\n\t$rootScope.menusList = [\r\n\r\n\r\n\t\t\t{title: \"Plataforma Innovadora\"},\r\n\t\t\t{title: \"Fundamentos Innovadores\"},\r\n\t\t\t{title: \"Crea tu iniciativa\"},\r\n\t\t\t{title: \"Herramientas para decidir\"},\r\n\t\t\t{title: \"Blog y Noticias\"}\r\n\t]\r\n\r\n\r\n})\r\n\r\n\r\n","","angular.module(\"Registraduria\")\r\n.controller('LoginCtrl',function($scope,$http,$location,$rootScope,$sce,$timeout,$window,$modalInstance,slides){\r\n\r\n\t//funcion que cierra el aside de login\r\n\t$scope.ok = function(e) {\r\n\t    $modalInstance.close();\r\n\t    e.stopPropagation();\r\n\t};\r\n\r\n\t//funcion que cierra el aside de login\r\n\t$scope.cancel = function(e) {\r\n\t    $modalInstance.dismiss();\r\n\t    e.stopPropagation();\r\n\t};\r\n\r\n\t//elemento que contiene los errores en los diferentes formularios\r\n\t$scope.loginMessage = false;\r\n\t$scope.signUpMessage = false;\r\n\t//elemento que muestra el mensaje cuando el usuario inicio session correctamente\r\n\t$scope.loginSuccess = false;\r\n\r\n\t//esta funcion limpia todos los formularios cuando se cambia de 'slide' en el 'aside' de login\r\n\t$scope.initializeForms = function(){\r\n\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de login\r\n\t\t$scope.loginForm = {\r\n\t\t\tuser: '',\r\n\t\t\tpassword: '',\r\n\t\t}\r\n\r\n\t\t//se instancia el objeto que contiene todos los campos del formulario HTML de signUp\r\n\t\t$scope.newUser = {\r\n\r\n\t\t\tcheck1: '',\r\n\t\t\tpassword_confirmation: '',\r\n\t\t\tpassword: '',\r\n\t\t\temail: '',\r\n\t\t\tname1: ''\r\n\r\n\t\t};\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de recordar contraseña\r\n\t\t$scope.rememberForm = {\r\n\t\t\tuser: '',\r\n\t\t}\r\n\t}\r\n\r\n\t$scope.initializeForms();\r\n\r\n\t//el objeto eredado desde HomeCtrl que contienen las imagenes de fondo del carrusel del header\r\n\t$scope.slides = slides\r\n\r\n\t//funcion que cambia los slides\r\n\t$scope.goToSlide = function (slide) {\r\n\t\t\r\n\t\tif (slide == 0) {\r\n\r\n\t\t\t$scope.slides[0].active=true;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.loginMessage = false;\r\n\t\t}else if (slide == 1) {\r\n\r\n\t\t\t$scope.slides[1].active=true;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.rememberSuccess = false;\r\n\t\t\t$scope.rememberMessage = false;\r\n\t\t}else{\r\n\r\n\t\t\t$scope.slides[2].active=true;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.signUpMessage = false;\r\n\t\t};\r\n\t}\r\n\r\n    $timeout(function(){\r\n\t\t$scope.modalLoginShow = true;\r\n\t    $('#showModalLogin').trigger('click');\r\n\t}, 1000)\r\n\t\r\n\t//funcion que verifica que usuario esta logueado actualmente \r\n    $scope.checkLogin = function(){\r\n\t\t$scope.check = true;\r\n\r\n\t\t$http.post('loginCheck', [''])\r\n\t    .success(function(data)\r\n\t    {\t\r\n\t    \t\r\n\t    \tif(data['error']){\r\n\r\n\t\t\t}else if(data['name1']){\r\n\r\n\t\t\t\t$scope.activeSession = data;\r\n\t\t\t\t//$location.path( \"/login\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$scope.check = false;\r\n\r\n\t    })\r\n\t    .error(function(data)\r\n\t    {\r\n\t    \t$scope.loginMessage = 'Por favor ingrese el Usuario y Contraseña';\r\n\t    });\r\n    };\r\n\r\n\t//funcion que valida el inicio de sesion \r\n\t$scope.login = function(){\r\n\r\n\t\t$scope.processing = true\r\n        //peticion al servidor usando php\r\n        $http.post('login', $scope.loginForm)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.loginMessage = [data['error']]\r\n    \t\t}else if(data['active']){\r\n    \t\t\t$scope.loginMessage = data;\r\n    \t\t}else if(data['name1']){\r\n    \t\t\t$scope.loginMessage = false\r\n    \t\t\t$scope.loginSuccess = 'Bienvenido! ' + data['name1']\r\n    \t\t\t$location.path( \"/login\" );\r\n\r\n    \t\t}\r\n\r\n    \t\t$scope.processing = false\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.loginMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.loginMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });       \r\n\t};\r\n\r\n\t//cierra la actual sesion\r\n    $scope.logOut = function () {\r\n\r\n    \t$scope.check = true\r\n\r\n\t\t//peticion al servidor usando php\r\n        $http.post('logout', [''])\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.sessionMessage = data['error']\r\n    \t\t}else if(data['success']){\r\n    \t\t\t$scope.activeSession = false;\r\n    \t\t\t$scope.checkLogin();\r\n    \t\t\t\r\n    \t\t}\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.sessionMessage = 'Por favor ingrese todos los datos'\r\n        });\r\n\t\t\r\n\t};\r\n\r\n\t$scope.signUp = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t$scope.signUpSuccess = false;\r\n\r\n\t\tif(!$scope.newUser.check1){//condicion que valida que los checkbox se seleccionen\r\n\r\n\t\t\t$scope.newUser.check1 = '';\r\n\t\t}\r\n\r\n\r\n        //peticion al servidor usando http\r\n        $http.post('signup', $scope.newUser)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n\t\t\t\t$scope.signUpMessage = false;\r\n        \t\t$scope.success = data['success']\r\n        \t\t$scope.newUser = {\r\n\r\n\t\t\t\t\tpassword_confirmation: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tname1: ''\r\n\r\n\t\t\t\t};\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.signUpMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.signUpMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\r\n\t//funcion que se encarga de enviar la peticion al servidor para restablecer la contraseña\r\n\t$scope.rememberPassword = function(){\r\n\r\n\t\t$scope.processing = true\r\n\t\t$scope.isRemember = true;\r\n        //peticion al servidor usando php\r\n        $http.post('remember', {user:$scope.rememberForm.user})\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.rememberSuccess = false;\r\n        \t\t$scope.rememberMessage = [data['error']]\r\n    \t\t}else if(data['success']){\r\n    \t\t\t$scope.rememberMessage = false\r\n    \t\t\t$scope.rememberSuccess = false;\r\n    \t\t\t$scope.rememberSuccess = data['success']\r\n    \t\t\t$timeout(function(){\r\n    \t\t\t\tlocation.reload();\r\n\t   \t\t\t}, 20000)\r\n    \t\t}\r\n\r\n    \t\t$scope.processing = false\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.rememberSuccess = false;\r\n        \t$scope.rememberMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.rememberMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });       \r\n\t};\r\n\r\n\t// Para usar el html en angular\r\n\t$scope.sanitize = function (item) {\r\n\t\tif(!item) return\r\n\t\treturn $sce.trustAsHtml(item);\r\n\t}\r\n\r\n\r\n})\r\n\r\n.controller('SignupCtrl',function($scope,$http,$location,$rootScope,$sce){\r\n\r\n\t$scope.sessionMessage = false;\r\n\t$scope.success = false;\r\n\r\n\t//se instancia el objeto que contiene todos los campos del formulario\r\n\t$scope.form = {\r\n\r\n\t\tcheck1: '',\r\n\t\tcheck2: '',\r\n\t\tpassword_confirmation: '',\r\n\t\tpassword: '',\r\n\t\temail: '',\r\n\t\tlastname2: '',\r\n\t\tlastname1: '',\r\n\t\tname2: '',\r\n\t\tname1: ''\r\n\r\n\t};\r\n\r\n\t// Para usar el html en angular\r\n\t$scope.sanitize = function (item) {\r\n\t\tif(!item) return\r\n\t\treturn $sce.trustAsHtml(item);\r\n\t}\r\n\r\n\t$scope.signUp = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t$scope.success = false;\r\n\r\n\t\tif(!$scope.form.check1){//condicion que valida que los checkbox se seleccionen\r\n\r\n\t\t\t$scope.form.check1 = '';\r\n\t\t}\r\n\r\n\r\n        //peticion al servidor usando http\r\n        $http.post('signup', $scope.form)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n\t\t\t\t$scope.sessionMessage = false;\r\n        \t\t$scope.success = data['success']\r\n        \t\t$scope.form = {\r\n\r\n\t\t\t\t\tpassword_confirmation: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tlastname2: '',\r\n\t\t\t\t\tlastname1: '',\r\n\t\t\t\t\tname2: '',\r\n\t\t\t\t\tname1: ''\r\n\r\n\t\t\t\t};\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.sessionMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.sessionMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\t\r\n\r\n})\r\n\r\n.controller('VerifyCtrl',function($scope,$http,$location,$rootScope,$sce,$stateParams){\r\n\r\n\t$scope.success = '<span class=\"is-error bold-600\">!Ocurrio un error </span>por favor abrir el enlace directamente del correo o verficar que copie y pegue la direccion completa';\r\n\t$scope.img = 'error';\r\n\t$scope.processing = true\r\n\r\n\t//se instancia el objeto que contiene todos los campos del formulario\r\n\t$scope.form = {\r\n\t\ttoken: $stateParams.c,\r\n\t\tcode: $stateParams.n,\r\n\t};\r\n\r\n\t// Para usar el html en angular\r\n\t$scope.sanitize = function (item) {\r\n\t\tif(!item) return\r\n\t\treturn $sce.trustAsHtml(item);\r\n\t}\r\n\r\n        //peticion al servidor usando php\r\n        $http.post('verify', $scope.form)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n        \t\t$scope.success = data['success']\r\n        \t\t$scope.img = 'verify';\r\n    \t\t}else{\r\n    \t\t\t$scope.success = data['error']\r\n    \t\t\t$scope.img = 'error';\r\n    \t\t};\r\n    \t\t$scope.processing = false;\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.processing = false;\r\n        \t$scope.success = '<span class=\"is-error bold-600\">!Ocurrio un error </span>por favor abrir el enlace directamente del correo o verficar que copie y pegue la direccion completa'\r\n        });    \r\n\r\n\t\r\n\r\n})\r\n\r\n.controller('ChangePasswordCtrl',function($scope,$http,$location,$rootScope,$sce,$stateParams){\r\n\r\n\t$scope.verifyMsg = '';\r\n\t$scope.img = 'error';\r\n\t$scope.checking = true\r\n\r\n\t//se instancia el objeto que contiene todos los campos del formulario\r\n\t$scope.form = {\r\n\t\ttoken: $stateParams.c,\r\n\t\tcode: $stateParams.n,\r\n\t\tuser: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassword_confirmation: ''\r\n\t};\r\n\r\n\tconsole.log($scope.form);\r\n\r\n\t// Para usar el html en angular\r\n\t$scope.sanitize = function (item) {\r\n\t\tif(!item) return\r\n\t\treturn $sce.trustAsHtml(item);\r\n\t}\r\n\r\n    //peticion al servidor usando php para verificar que la url tenga los parametros validos para realizar el cambio de contraseña\r\n    $http.post('verifyUser', $scope.form)\r\n    .success(function(data)\r\n    {\t\r\n    \t\r\n    \tif(data['user']){\r\n    \t\t$scope.img = 'verify';\r\n    \t\t$scope.form.user = data['user'].name1 +' ' + data['user'].lastname1;\r\n    \t\t$scope.form.email = data['user'].email;\r\n    \t\t$scope.verifyMsg = '<span class=\"is-success bold-600\">Ahora puedes cambiar</span> tu contraseña de ingreso a Registraduria.net';\r\n\r\n\t\t}else{\r\n\t\t\t$scope.verifyMsg = data['error']\r\n\t\t\t$scope.img = 'error';\r\n\t\t};\r\n\t\t$scope.checking = false;\r\n    })\r\n    .error(function(data)\r\n    {\r\n    \t$scope.checking = false;\r\n    \t$scope.verifyMsg = '<span class=\"is-error bold-600\">!Ocurrio un error </span>por favor abrir el enlace directamente del correo o verficar que copie y pegue la direccion completa'\r\n    }); \r\n\r\n    //funcion que cambia la contraseña para el usuario enviado por url \r\n\t$scope.changePassword = function(){\r\n\r\n\t\t$scope.processing = true\r\n        //peticion al servidor usando php\r\n        $http.post('changePassword', $scope.form)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \t\r\n\t\t\t$scope.sessionMessage = false\r\n\t\t\t$scope.success = data['success']\r\n    \t\t$scope.processing = false\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.sessionMessage = [];\r\n        \tconsole.log(data);\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.sessionMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });       \r\n\t};   \r\n\r\n\t\r\n\r\n})\r\n\r\n\r\n// *****************************************************************************\r\n// Controlador de la vista LandingPage\r\n// *****************************************************************************\r\n.controller('HomeCtrl',function($scope,$http,$location,$rootScope,$window,$timeout,$sce,$aside){\r\n\r\n\t//funcion que se ejecuta para adaptar el fondo del header al tamaño de pantalla\r\n\tangular.element($window).bind('resize', function() {\r\n       \t$rootScope.windowHeight = $window.innerHeight;\r\n       \t$rootScope.windowWidth = $window.innerWidth;\r\n\r\n\t\t$( \".video-panel\" ).css( \"min-height\", $window.innerHeight );\r\n    })\r\n\r\n    $( \".video-panel\" ).css( \"min-height\", $window.innerHeight );\r\n\r\n    //objeto que contiene los imagenes qeu pasan de fondo en el header \r\n    $scope.headerSlides = [\r\n    \t{\r\n    \t\timg: 'pic1'\r\n    \t},\r\n    \t{\r\n    \t\timg: 'pic7'\r\n    \t},\r\n    \t{\r\n    \t\timg: 'pic8'\r\n    \t}\r\n    ]\r\n\r\n    //objeto que contiene los diferentes formularios de registro de login y de recordar contraseña \r\n    $scope.sessionSlides = 0\r\n\r\n\t$scope.noWrapSlides = true;\r\n\t$scope.myInterval = 10000;\t\r\n\r\n\t\r\n\t//elemento que contiene los errores en los diferentes formularios\r\n\t$scope.loginMessage = false;\r\n\t$scope.signUpMessage = false;\r\n\t//elemento que muestra el mensaje cuando el usuario inicio session correctamente\r\n\t$scope.loginSuccess = false;\r\n\r\n\t//esta funcion limpia todos los formularios cuando se cambia de 'slide' en el 'aside' de login\r\n\t$scope.initializeForms = function(){\r\n\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de login\r\n\t\t$scope.loginForm = {\r\n\t\t\tuser: '',\r\n\t\t\tpassword: '',\r\n\t\t}\r\n\r\n\t\t//se instancia el objeto que contiene todos los campos del formulario HTML de signUp\r\n\t\t$scope.newUser = {\r\n\r\n\t\t\tcheck1: '',\r\n\t\t\tpassword_confirmation: '',\r\n\t\t\tpassword: '',\r\n\t\t\temail: '',\r\n\t\t\tname1: ''\r\n\r\n\t\t};\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de recordar contraseña\r\n\t\t$scope.rememberForm = {\r\n\t\t\tuser: '',\r\n\t\t}\r\n\t}\r\n\r\n\t$scope.initializeForms();\r\n\r\n\t//funcion que cambia los slides de session\r\n\t$scope.goToSlide = function (slide) {\r\n\t\t\r\n\t\tif (slide == 0) {\r\n\r\n\t\t\t$scope.sessionSlides = 0;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.loginMessage = false;\r\n\t\t}else if (slide == 1) {\r\n\r\n\t\t\t$scope.sessionSlides = 1;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.rememberSuccess = false;\r\n\t\t\t$scope.rememberMessage = false;\r\n\t\t}else{\r\n\r\n\t\t\t$scope.sessionSlides = 2;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.signUpMessage = false;\r\n\t\t};\r\n\t}\r\n\r\n    $timeout(function(){\r\n\t\t$scope.modalLoginShow = true;\r\n\t    $('#showModalLogin').trigger('click');\r\n\t}, 1000)\r\n\t\r\n\t//funcion que verifica que usuario esta logueado actualmente \r\n    $scope.checkLogin = function(){\r\n\t\t$scope.check = true;\r\n\r\n\t\t$http.post('loginCheck', [''])\r\n\t    .success(function(data)\r\n\t    {\t\r\n\t    \t\r\n\t    \tif(data['error']){\r\n\r\n\t\t\t}else if(data['name1']){\r\n\r\n\t\t\t\t$scope.activeSession = data;\r\n\t\t\t\t//$location.path( \"/login\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$scope.check = false;\r\n\r\n\t    })\r\n\t    .error(function(data)\r\n\t    {\r\n\t    \t$scope.loginMessage = 'Por favor ingrese el Usuario y Contraseña';\r\n\t    });\r\n    };\r\n\r\n\r\n\t//funcion que valida el inicio de sesion \r\n\t$scope.login = function(){\r\n\r\n\t\t$scope.processing = true\r\n        //peticion al servidor usando php\r\n        $http.post('login', $scope.loginForm)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.loginMessage = [data['error']]\r\n    \t\t}else if(data['active']){\r\n    \t\t\t$scope.loginMessage = data;\r\n    \t\t}else if(data['name1']){\r\n    \t\t\t$scope.loginMessage = false\r\n    \t\t\t$scope.loginSuccess = 'Bienvenido! ' + data['name1']\r\n    \t\t\t$location.path( \"/start\" );\r\n\r\n    \t\t}\r\n\r\n    \t\t$scope.processing = false\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.loginMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.loginMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });       \r\n\t};\r\n\r\n\t//cierra la actual sesion\r\n    $scope.logOut = function () {\r\n\r\n    \t$scope.check = true\r\n\r\n\t\t//peticion al servidor usando php\r\n        $http.post('logout', [''])\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.sessionMessage = data['error']\r\n    \t\t}else if(data['success']){\r\n    \t\t\t$scope.activeSession = false;\r\n    \t\t\t$scope.checkLogin();\r\n    \t\t\t\r\n    \t\t}\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.sessionMessage = 'Por favor ingrese todos los datos'\r\n        });\r\n\t\t\r\n\t};\r\n\r\n\t$scope.signUp = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t$scope.signUpSuccess = false;\r\n\r\n\t\tif(!$scope.newUser.check1){//condicion que valida que los checkbox se seleccionen\r\n\r\n\t\t\t$scope.newUser.check1 = '';\r\n\t\t}\r\n\r\n\r\n        //peticion al servidor usando http\r\n        $http.post('signup', $scope.newUser)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n\t\t\t\t$scope.signUpMessage = false;\r\n        \t\t$scope.success = data['success']\r\n        \t\t$scope.newUser = {\r\n\r\n\t\t\t\t\tpassword_confirmation: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tname1: ''\r\n\r\n\t\t\t\t};\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.signUpMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.signUpMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\r\n\t//funcion que se encarga de enviar la peticion al servidor para restablecer la contraseña\r\n\t$scope.rememberPassword = function(){\r\n\r\n\t\t$scope.processing = true\r\n\t\t$scope.isRemember = true;\r\n        //peticion al servidor usando php\r\n        $http.post('remember', {user:$scope.rememberForm.user})\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.rememberSuccess = false;\r\n        \t\t$scope.rememberMessage = [data['error']]\r\n    \t\t}else if(data['success']){\r\n    \t\t\t$scope.rememberMessage = false\r\n    \t\t\t$scope.rememberSuccess = false;\r\n    \t\t\t$scope.rememberSuccess = data['success']\r\n    \t\t\t$timeout(function(){\r\n    \t\t\t\tlocation.reload();\r\n\t   \t\t\t}, 20000)\r\n    \t\t}\r\n\r\n    \t\t$scope.processing = false\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.rememberSuccess = false;\r\n        \t$scope.rememberMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.rememberMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });       \r\n\t};\r\n\r\n\t// Para usar el html en angular\r\n\t$scope.sanitize = function (item) {\r\n\t\tif(!item) return\r\n\t\treturn $sce.trustAsHtml(item);\r\n\t}\r\n\r\n})\r\n\r\n\r\n\r\n// *****************************************************************************\r\n// Controlador de la vista de inicio\r\n// *****************************************************************************\r\n.controller('StartCtrl',function($scope,$http,$location,$rootScope,$sce,$timeout,$aside){\r\n\t//funcion que verifica que usuario esta logueado actualmente \r\n    $scope.checkLogin = function(){\r\n\t\t$scope.check = true;\r\n\r\n\t\t$http.post('loginCheck', [''])\r\n\t    .success(function(data)\r\n\t    {\t\r\n\t    \t\r\n\t    \tif(data['error']){\r\n\t\t\t\t$location.path( \"/\" );\r\n\r\n\t\t\t}else if(data['name1']){\r\n\r\n\t\t\t\t$scope.activeSession = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$scope.check = false;\r\n\r\n\t    })\r\n\t    .error(function(data)\r\n\t    {\r\n\t    \t$scope.loginMessage = 'Por favor ingrese el Usuario y Contraseña';\r\n\t    });\r\n    };\r\n\r\n    $scope.checkLogin();\r\n\r\n    //objeto que contiene los diferentes modulos de la aplicacion \r\n    $scope.startModules = 0\r\n\r\n\t$scope.openAside = function(position, backdrop) {\r\n      $scope.asideState = {\r\n        open: true,\r\n        position: position\r\n      };\r\n      \r\n      \r\n      function postClose() {\r\n        $scope.asideState.open = false;\r\n      }\r\n      \r\n      $aside.open({\r\n        templateUrl: 'views/common/mainMenu.blade.php',\r\n        placement: position,\r\n        size: 'sm',\r\n        backdrop: backdrop,\r\n        controller: function($scope, $modalInstance) {\r\n\r\n        \t$scope.ok = function(e) {\r\n\t            $modalInstance.close();\r\n\t            e.stopPropagation();\r\n            };\r\n\r\n\t        $scope.cancel = function(e) {\r\n\t            $modalInstance.dismiss();\r\n\t            e.stopPropagation();\r\n\t        };\r\n\r\n        }\r\n      }).result.then(postClose, postClose);\r\n    }\r\n\r\n    //cierra la actual sesion\r\n    $scope.logOut = function () {\r\n\r\n    \t$scope.check = true\r\n\r\n\t\t//peticion al servidor usando php\r\n        $http.post('logout', [''])\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.sessionMessage = data['error']\r\n    \t\t}else if(data['success']){\r\n    \t\t\t$scope.activeSession = false;\r\n    \t\t\t$scope.checkLogin();\r\n    \t\t\t\r\n    \t\t}\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.sessionMessage = 'Por favor ingrese todos los datos'\r\n        });\r\n\t\t\r\n\t};\r\n\r\n\t//esta funcion limpia todos los formularios cuando se cambia de 'slide' en el 'aside' de login\r\n\t$scope.initializeForms = function(){\r\n\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de login\r\n\t\t$scope.newCitizen = {\r\n\t\t\tid_number:'',\r\n\t\t\tnames: '',\r\n\t\t\tlastnames: '',\r\n\t\t\tbirthdate: '',\r\n\t\t\tplace_of_birth: '',\r\n\t\t\theight: '',\r\n\t\t\tgender: '',\r\n\t\t\trh: '',\r\n\t\t\tdate_place_expedition: '',\r\n\t\t\temail: '',\r\n\t\t}\r\n\r\n\t\t//se instancia el objeto que contiene todos los campos del formulario HTML de signUp\r\n\t\t$scope.newCandidate = {\r\n\t\t\tid_number:'',\r\n\t\t\tnames: '',\r\n\t\t\tlastnames: '',\r\n\t\t\tbirthdate: '',\r\n\t\t\tplace_of_birth: '',\r\n\t\t\theight: '',\r\n\t\t\tgender: '',\r\n\t\t\trh: '',\r\n\t\t\tdate_place_expedition: '',\r\n\t\t\temail: '',\r\n\t\t}\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de recordar contraseña\r\n\t\t$scope.rememberForm = {\r\n\t\t\tuser: '',\r\n\t\t}\r\n\t}\r\n\r\n\t$scope.initializeForms();\r\n\r\n\t//funcion que cambia los slides de session\r\n\t$scope.goToModule = function (module) {\r\n\t\t\r\n\t\tif (module == 0) {\r\n\r\n\t\t\t$scope.startModules = 0;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.citizenSuccess = false;\r\n\t\t\t$scope.signUpCitizenMessage = false;\r\n\t\t}else if (module == 1) {\r\n\r\n\t\t\t$scope.startModules = 1;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.rememberSuccess = false;\r\n\t\t\t$scope.citizenSuccess = false;\r\n\t\t\t$scope.rememberMessage = false;\r\n\t\t}else{\r\n\r\n\t\t\t$scope.startModules = 2;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.signUpMessage = false;\r\n\t\t};\r\n\t}\r\n\r\n\t$scope.signUpCitizen = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t$scope.citizenSuccess = false;\r\n\r\n        //peticion al servidor usando http\r\n        $http.post('signUpCitizen', $scope.newCitizen)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n\t\t\t\t$scope.signUpCitizenMessage = false;\r\n        \t\t$scope.citizenSuccess = data['success']\r\n        \t\t$scope.newCitizen = {\r\n\t\t\t\t\tid_number:'',\r\n\t\t\t\t\tnames: '',\r\n\t\t\t\t\tlastnames: '',\r\n\t\t\t\t\tbirthdate: '',\r\n\t\t\t\t\tplace_of_birth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t\tgender: '',\r\n\t\t\t\t\trh: '',\r\n\t\t\t\t\tdate_place_expedition: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t}\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.signUpCitizenMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.signUpCitizenMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\t$scope.signUpCandidate = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t$scope.signUpCandidateMessage = false;\r\n\t\t$scope.candidateSuccess = false;\r\n\r\n        //peticion al servidor usando http\r\n        $http.post('signUpCandidate', $scope.newCandidate)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n\t\t\t\t$scope.signUpCandidateMessage = false;\r\n        \t\t$scope.candidateSuccess = data['success']\r\n        \t\t$scope.newCcandidates = {\r\n\t\t\t\t\tid_number:'',\r\n\t\t\t\t\tnames: '',\r\n\t\t\t\t\tlastnames: '',\r\n\t\t\t\t\tbirthdate: '',\r\n\t\t\t\t\tplace_of_birth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t\tgender: '',\r\n\t\t\t\t\trh: '',\r\n\t\t\t\t\tdate_place_expedition: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t}\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.signUpCandidateMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.signUpCandidateMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\r\n\t// Para usar el html en angular\r\n\t$scope.sanitize = function (item) {\r\n\t\tif(!item) return\r\n\t\treturn $sce.trustAsHtml(item);\r\n\t}   \r\n\r\n\r\n\r\n})\r\n","\r\nRegistraduria.directive('xngFocus', function ($timeout) {\r\n    return {\r\n        link: function(scope, element, attrs) {\r\n            scope.$watch(attrs.xngFocus, function(newValue){\r\n                if ( newValue ) {\r\n                    $timeout(function(){\r\n                        element.focus();\r\n                    });\r\n                }\r\n            });\r\n        }\r\n     };\r\n});\r\n\r\n// Directiva de modal por defecto\r\nRegistraduria.directive('modalDefault', function ($sce) {\r\n    return {\r\n        restrict: 'A',\r\n        templateUrl: 'views/common/modal_default.blade.php',\r\n        \r\n        link: function (scope) {\r\n            \r\n            // Para usar el html en angular\r\n            scope.sanitize = function (item) {\r\n                if (!item) return;\r\n              return $sce.trustAsHtml(item);\r\n            }\r\n        }\r\n    };\r\n});\r\n\r\n// Directiva de modal para iniciar session\r\nRegistraduria.directive('modalLogin', function ($sce) {\r\n    return {\r\n        restrict: 'A',\r\n        templateUrl: 'views/common/modal_login.blade.php',\r\n        \r\n        link: function (scope) {\r\n            \r\n            // Para usar el html en angular\r\n            scope.sanitize = function (item) {\r\n                if (!item) return;\r\n              return $sce.trustAsHtml(item);\r\n            }\r\n\r\n            //se ejecuta algo cuando el modal se termina de ocultar\r\n            $('#modalLogin').on('hidden.bs.modal', function (e) {\r\n                scope.$apply(function () {\r\n                    scope.closeModalLogin()\r\n\r\n\r\n                });\r\n            })\r\n\r\n\r\n        }\r\n    };\r\n});\r\n\r\n// Directiva de modal para Registrarte\r\nRegistraduria.directive('modalSignup', function ($sce) {\r\n    return {\r\n        restrict: 'A',\r\n        templateUrl: 'views/common/modal_signup.blade.php',\r\n        \r\n        link: function (scope) {\r\n            \r\n            // Para usar el html en angular\r\n            scope.sanitize = function (item) {\r\n                if (!item) return;\r\n              return $sce.trustAsHtml(item);\r\n            }\r\n\r\n            //se ejecuta algo cuando el modal se termina de ocultar\r\n            $('#modalSignup').on('hidden.bs.modal', function (e) {\r\n                scope.$apply(function () {\r\n                    scope.closeModalSignup()\r\n\r\n\r\n                });\r\n            })\r\n\r\n\r\n        }\r\n    };\r\n});\r\n\r\n// Directiva de modal para Registrarte\r\nRegistraduria.directive('modalRemember', function ($sce) {\r\n    return {\r\n        restrict: 'A',\r\n        templateUrl: 'views/common/modal_remember.blade.php',\r\n        \r\n        link: function (scope) {\r\n            \r\n            // Para usar el html en angular\r\n            scope.sanitize = function (item) {\r\n                if (!item) return;\r\n              return $sce.trustAsHtml(item);\r\n            }\r\n\r\n            //se ejecuta algo cuando el modal se termina de ocultar\r\n            $('#modalRemember').on('hidden.bs.modal', function (e) {\r\n                scope.$apply(function () {\r\n                    scope.closeModalRemember()\r\n\r\n\r\n                });\r\n            })\r\n\r\n\r\n        }\r\n    };\r\n});\r\n\r\n// Directiva de modal para crear una nueva iniciativa\r\nRegistraduria.directive('modalInitialPoll', function ($sce) {\r\n    return {\r\n        restrict: 'A',\r\n        templateUrl: 'views/common/modal_initial_poll.blade.php',\r\n        \r\n        link: function (scope) {\r\n\r\n            //muestra automaticamente el modal al cargar la pagina \r\n            //$('#modalInitialPoll').modal('show')\r\n\r\n            //se configura la opcion backDrop \r\n            $('#modalInitialPoll').modal({\r\n              keyboard: false,\r\n              backdrop: 'static'\r\n            })          \r\n\r\n            \r\n            // Para usar el html en angular\r\n            scope.sanitize = function (item) {\r\n                if (!item) return;\r\n              return $sce.trustAsHtml(item);\r\n            }\r\n        }\r\n    };\r\n});\r\n\r\n// Directiva de modal para ver en detalle una iniciativa\r\nRegistraduria.directive('modalSeeInitiative', function ($sce) {\r\n    return {\r\n        restrict: 'A',\r\n        templateUrl: 'views/common/modal_see_initiative.blade.php',\r\n        //detailInitiative: \"@\", //variables de alcance($scope) o por valor\r\n        //modalSeeInitiativeShow: \"@\", //variables de alcance($scope) o por valor\r\n        \r\n        link: function (scope) {\r\n            \r\n            // Para usar el html en angular\r\n            scope.sanitize = function (item) {\r\n                if (!item) return;\r\n              return $sce.trustAsHtml(item);\r\n            }\r\n\r\n\r\n            //se ejecuta algo cuando el modal se termina de ocultar\r\n            $('#modalSeeInitiative').on('hidden.bs.modal', function (e) {\r\n                scope.$apply(function () {\r\n                    scope.modalSeeInitiativeShow = false;\r\n                    delete scope.detailInitiative.checkSupport;\r\n\r\n\r\n                });\r\n            })\r\n        }\r\n    };\r\n});\r\n\r\n// Directiva de modal para ver en detalle una estadistica\r\nRegistraduria.directive('modalSeeHistory', function ($sce,$rootScope) {\r\n    return {\r\n        restrict: 'A',\r\n        templateUrl: 'views/common/modal_see_history.blade.php',\r\n        \r\n        link: function (scope) {\r\n            \r\n            // Para usar el html en angular\r\n            scope.sanitize = function (item) {\r\n                if (!item) return;\r\n              return $sce.trustAsHtml(item);\r\n            }\r\n\r\n\r\n            //se ejecuta algo cuando el modal se termina de ocultar\r\n            /*$('#modalSeeHistory').on('hidden.bs.modal', function (e) {\r\n                scope.$apply(function () {\r\n                    scope.modalSeeHistoryShow = false;\r\n                    delete scope.detailInitiative.checkSupport;\r\n\r\n\r\n                });\r\n            })*/\r\n        }\r\n    };\r\n});\r\n\r\n"]}