{"version":3,"sources":["app/js/main.js","app/js/services.js","app/js/controllers.js","app/js/directives.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/CA;CCAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CChkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public\\js\\app.js","sourcesContent":["var Registraduria = angular.module(\"Registraduria\",[\"ui.router\",\"ui.bootstrap\",\"angularUtils.directives.dirPagination\",\"ui.slimscroll\",\"fox.scrollReveal\",\"ngRoute\",\"ngMap\",\"ngMaterial\",\"chart.js\",\"smoothScroll\",\"ngAside\"], function($interpolateProvider) {\r\n\t$interpolateProvider.startSymbol('[[');\r\n\t$interpolateProvider.endSymbol(']]');\r\n\r\n})\r\n\r\n.config(function($routeProvider,$locationProvider){\r\n\r\n\t\r\n       \r\n\t$routeProvider\r\n\t\t.when(\"/\",{\r\n\t\t\tcontroller:\"HomeCtrl\",\r\n\t\t\ttemplateUrl: \"views/home.blade.php\"\r\n\t\t})\r\n\t\t.when(\"/start\",{\r\n\t\t\tcontroller:\"StartCtrl\",\r\n\t\t\ttemplateUrl: \"views/start.blade.php\"\r\n\t\t})\r\n\t\t.otherwise({\r\n\t        redirectTo: '/'\r\n\t    })\r\n\r\n\t/*$locationProvider.html5Mode(true);\r\n\t$locationProvider.hashPrefix('!');*/\r\n\t\r\n})\r\n\r\n\r\n\r\n\r\n.run(function($http) {\r\n  $http.defaults.headers.common['X-CSRF-TOKEN'] = $('meta[name=csrf-token]').attr('content')\r\n})\r\n\r\n\r\n.run(function($rootScope,$location,$timeout,$window) {\r\n\r\n\t $rootScope.goTo = function(url){\r\n\r\n\t\t$location.path(url);\r\n\t\t\r\n\t}\r\n\r\n})\r\n\r\n\r\n","","angular.module(\"Registraduria\")\r\n\r\n\r\n// *****************************************************************************\r\n// Controlador de la vista LandingPage\r\n// *****************************************************************************\r\n.controller('HomeCtrl',function($scope,$http,$location,$rootScope,$window,$timeout,$sce,$aside){\r\n\r\n\t//funcion que se ejecuta para adaptar el fondo del header al tamaño de pantalla\r\n\tangular.element($window).bind('resize', function() {\r\n       \t$rootScope.windowHeight = $window.innerHeight;\r\n       \t$rootScope.windowWidth = $window.innerWidth;\r\n\r\n\t\t$( \".video-panel\" ).css( \"min-height\", $window.innerHeight );\r\n    })\r\n\r\n    $( \".video-panel\" ).css( \"min-height\", $window.innerHeight );\r\n\r\n    //objeto que contiene los imagenes qeu pasan de fondo en el header \r\n    $scope.headerSlides = [\r\n    \t{\r\n    \t\timg: 'pic1'\r\n    \t},\r\n    \t{\r\n    \t\timg: 'pic7'\r\n    \t},\r\n    \t{\r\n    \t\timg: 'pic8'\r\n    \t}\r\n    ]\r\n\r\n    //objeto que contiene los diferentes formularios de registro de login y de recordar contraseña \r\n    $scope.sessionSlides = 0\r\n\r\n\t$scope.noWrapSlides = true;\r\n\t$scope.myInterval = 10000;\t\r\n\r\n\t\r\n\t//elemento que contiene los errores en los diferentes formularios\r\n\t$scope.loginMessage = false;\r\n\t$scope.signUpMessage = false;\r\n\t//elemento que muestra el mensaje cuando el usuario inicio session correctamente\r\n\t$scope.loginSuccess = false;\r\n\r\n\t//esta funcion limpia todos los formularios cuando se cambia de 'slide' en el 'aside' de login\r\n\t$scope.initializeForms = function(){\r\n\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de login\r\n\t\t$scope.loginForm = {\r\n\t\t\tuser: '',\r\n\t\t\tpassword: '',\r\n\t\t}\r\n\r\n\t\t//se instancia el objeto que contiene todos los campos del formulario HTML de signUp\r\n\t\t$scope.newUser = {\r\n\r\n\t\t\tcheck1: '',\r\n\t\t\tpassword_confirmation: '',\r\n\t\t\tpassword: '',\r\n\t\t\temail: '',\r\n\t\t\tname1: ''\r\n\r\n\t\t};\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de recordar contraseña\r\n\t\t$scope.rememberForm = {\r\n\t\t\tuser: '',\r\n\t\t}\r\n\t}\r\n\r\n\t$scope.initializeForms();\r\n\r\n\t//funcion que cambia los slides de session\r\n\t$scope.goToSlide = function (slide) {\r\n\t\t\r\n\t\tif (slide == 0) {\r\n\r\n\t\t\t$scope.sessionSlides = 0;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.loginMessage = false;\r\n\t\t}else if (slide == 1) {\r\n\r\n\t\t\t$scope.sessionSlides = 1;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.rememberSuccess = false;\r\n\t\t\t$scope.rememberMessage = false;\r\n\t\t}else{\r\n\r\n\t\t\t$scope.sessionSlides = 2;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.signUpMessage = false;\r\n\t\t};\r\n\t}\r\n\r\n\t\r\n\t//funcion que verifica que usuario esta logueado actualmente \r\n    $scope.checkLogin = function(){\r\n\t\t$scope.check = true;\r\n\r\n\t\t$http.post('loginCheck', [''])\r\n\t    .success(function(data)\r\n\t    {\t\r\n\t    \t\r\n\t    \tif(data['error']){\r\n\r\n\t\t\t}else if(data['name1']){\r\n\r\n\t\t\t\t$scope.activeSession = data;\r\n\t\t\t\t//$location.path( \"/login\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$scope.check = false;\r\n\r\n\t    })\r\n\t    .error(function(data)\r\n\t    {\r\n\t    \t$scope.loginMessage = 'Por favor ingrese el Usuario y Contraseña';\r\n\t    });\r\n    };\r\n\r\n\r\n\t//funcion que valida el inicio de sesion \r\n\t$scope.login = function(){\r\n\r\n\t\t$scope.processing = true\r\n        //peticion al servidor usando php\r\n        $http.post('login', $scope.loginForm)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.loginMessage = [data['error']]\r\n    \t\t}else if(data['active']){\r\n    \t\t\t$scope.loginMessage = data;\r\n    \t\t}else if(data['name1']){\r\n    \t\t\t$scope.loginMessage = false\r\n    \t\t\t$scope.loginSuccess = 'Bienvenido! ' + data['name1']\r\n    \t\t\t$location.path( \"/start\" );\r\n\r\n    \t\t}\r\n\r\n    \t\t$scope.processing = false\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.loginMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.loginMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });       \r\n\t};\r\n\r\n\t//cierra la actual sesion\r\n    $scope.logOut = function () {\r\n\r\n    \t$scope.check = true\r\n\r\n\t\t//peticion al servidor usando php\r\n        $http.post('logout', [''])\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.sessionMessage = data['error']\r\n    \t\t}else if(data['success']){\r\n    \t\t\t$scope.activeSession = false;\r\n    \t\t\t$scope.checkLogin();\r\n    \t\t\t\r\n    \t\t}\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.sessionMessage = 'Por favor ingrese todos los datos'\r\n        });\r\n\t\t\r\n\t};\r\n\r\n\t$scope.signUp = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t$scope.signUpSuccess = false;\r\n\r\n\t\tif(!$scope.newUser.check1){//condicion que valida que los checkbox se seleccionen\r\n\r\n\t\t\t$scope.newUser.check1 = '';\r\n\t\t}\r\n\r\n\r\n        //peticion al servidor usando http\r\n        $http.post('signup', $scope.newUser)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n\t\t\t\t$scope.signUpMessage = false;\r\n        \t\t$scope.success = data['success']\r\n        \t\t$scope.newUser = {\r\n\r\n\t\t\t\t\tpassword_confirmation: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tname1: ''\r\n\r\n\t\t\t\t};\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.signUpMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.signUpMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\r\n\t//funcion que se encarga de enviar la peticion al servidor para restablecer la contraseña\r\n\t$scope.rememberPassword = function(){\r\n\r\n\t\t$scope.processing = true\r\n\t\t$scope.isRemember = true;\r\n        //peticion al servidor usando php\r\n        $http.post('remember', {user:$scope.rememberForm.user})\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.rememberSuccess = false;\r\n        \t\t$scope.rememberMessage = [data['error']]\r\n    \t\t}else if(data['success']){\r\n    \t\t\t$scope.rememberMessage = false\r\n    \t\t\t$scope.rememberSuccess = false;\r\n    \t\t\t$scope.rememberSuccess = data['success']\r\n    \t\t\t$timeout(function(){\r\n    \t\t\t\tlocation.reload();\r\n\t   \t\t\t}, 20000)\r\n    \t\t}\r\n\r\n    \t\t$scope.processing = false\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.rememberSuccess = false;\r\n        \t$scope.rememberMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.rememberMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });       \r\n\t};\r\n\r\n\t// Para usar el html en angular\r\n\t$scope.sanitize = function (item) {\r\n\t\tif(!item) return\r\n\t\treturn $sce.trustAsHtml(item);\r\n\t}\r\n\r\n})\r\n\r\n\r\n\r\n// *****************************************************************************\r\n// Controlador de la vista de inicio\r\n// *****************************************************************************\r\n.controller('StartCtrl',function($scope,$http,$location,$rootScope,$sce,$timeout,$aside){\r\n\t//funcion que verifica que usuario esta logueado actualmente \r\n    $scope.checkLogin = function(){\r\n\t\t$scope.check = true;\r\n\r\n\t\t$http.post('loginCheck', [''])\r\n\t    .success(function(data)\r\n\t    {\t\r\n\t    \t\r\n\t    \tif(data['error']){\r\n\t\t\t\t$location.path( \"/\" );\r\n\r\n\t\t\t}else if(data['name1']){\r\n\r\n\t\t\t\t$scope.activeSession = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$scope.check = false;\r\n\r\n\t    })\r\n\t    .error(function(data)\r\n\t    {\r\n\t    \t$scope.loginMessage = 'Por favor ingrese el Usuario y Contraseña';\r\n\t    });\r\n    };\r\n\r\n    $scope.checkLogin();\r\n\r\n    //objeto que contiene los diferentes modulos de la aplicacion \r\n    $scope.startModules = 0\r\n\r\n\t$scope.openAside = function(position, backdrop) {\r\n      $scope.asideState = {\r\n        open: true,\r\n        position: position\r\n      };\r\n      \r\n      \r\n      function postClose() {\r\n        $scope.asideState.open = false;\r\n      }\r\n      \r\n      $aside.open({\r\n        templateUrl: 'views/common/mainMenu.blade.php',\r\n        placement: position,\r\n        size: 'sm',\r\n        backdrop: backdrop,\r\n        controller: function($scope, $modalInstance) {\r\n\r\n        \t$scope.ok = function(e) {\r\n\t            $modalInstance.close();\r\n\t            e.stopPropagation();\r\n            };\r\n\r\n\t        $scope.cancel = function(e) {\r\n\t            $modalInstance.dismiss();\r\n\t            e.stopPropagation();\r\n\t        };\r\n\r\n        }\r\n      }).result.then(postClose, postClose);\r\n    }\r\n\r\n    //cierra la actual sesion\r\n    $scope.logOut = function () {\r\n\r\n    \t$scope.check = true\r\n\r\n\t\t//peticion al servidor usando php\r\n        $http.post('logout', [''])\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['error']){\r\n        \t\t$scope.sessionMessage = data['error']\r\n    \t\t}else if(data['success']){\r\n    \t\t\t$scope.activeSession = false;\r\n    \t\t\t$scope.checkLogin();\r\n    \t\t\t\r\n    \t\t}\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.sessionMessage = 'Por favor ingrese todos los datos'\r\n        });\r\n\t\t\r\n\t};\r\n\r\n\t//esta funcion limpia todos los formularios cuando se cambia de 'slide' en el 'aside' de login\r\n\t$scope.initializeForms = function(){\r\n\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de login\r\n\t\t$scope.newCitizen = {\r\n\t\t\tid_number:'',\r\n\t\t\tnames: '',\r\n\t\t\tlastnames: '',\r\n\t\t\tbirthdate: '',\r\n\t\t\tplace_of_birth: '',\r\n\t\t\theight: '',\r\n\t\t\tgender: '',\r\n\t\t\trh: '',\r\n\t\t\tdate_place_expedition: '',\r\n\t\t\temail: '',\r\n\t\t}\r\n\r\n\t\t//se instancia el objeto que contiene todos los campos del formulario HTML de signUp\r\n\t\t$scope.newCandidate = {\r\n\t\t\tid_number:'',\r\n\t\t\tnames: '',\r\n\t\t\tlastnames: '',\r\n\t\t\tbirthdate: '',\r\n\t\t\tplace_of_birth: '',\r\n\t\t\theight: '',\r\n\t\t\tgender: '',\r\n\t\t\trh: '',\r\n\t\t\tdate_place_expedition: '',\r\n\t\t\temail: '',\r\n\t\t}\r\n\r\n\t\t//se instancia el objeto que contienen los datos que se ingresan en el formulario HTML de recordar contraseña\r\n\t\t$scope.rememberForm = {\r\n\t\t\tuser: '',\r\n\t\t}\r\n\t}\r\n\r\n\t$scope.initializeForms();\r\n\r\n\t//funcion que cambia los slides de session\r\n\t$scope.goToModule = function (module) {\r\n\t\t\r\n\t\tif (module == 0) {\r\n\r\n\t\t\t$scope.startModules = 0;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.citizenSuccess = false;\r\n\t\t\t$scope.signUpCitizenMessage = false;\r\n\t\t}else if (module == 1) {\r\n\r\n\t\t\t$scope.startModules = 1;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.candidateSuccess = false;\r\n\t\t\t$scope.signUpCandidateMessage = false;\r\n\t\t}else{\r\n\r\n\t\t\t$scope.startModules = 2;\r\n\t\t\t$scope.initializeForms();\r\n\t\t\t$scope.signUpMessage = false;\r\n\t\t};\r\n\t}\r\n\r\n\t$scope.signUpCitizen = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t$scope.citizenSuccess = false;\r\n\r\n        //peticion al servidor usando http\r\n        $http.post('signUpCitizen', $scope.newCitizen)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n\t\t\t\t$scope.signUpCitizenMessage = false;\r\n        \t\t$scope.citizenSuccess = data['success']\r\n        \t\t$scope.newCitizen = {\r\n\t\t\t\t\tid_number:'',\r\n\t\t\t\t\tnames: '',\r\n\t\t\t\t\tlastnames: '',\r\n\t\t\t\t\tbirthdate: '',\r\n\t\t\t\t\tplace_of_birth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t\tgender: '',\r\n\t\t\t\t\trh: '',\r\n\t\t\t\t\tdate_place_expedition: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t}\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.signUpCitizenMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.signUpCitizenMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\t$scope.signUpCandidate = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t$scope.signUpCandidateMessage = false;\r\n\t\t$scope.candidateSuccess = false;\r\n\r\n        //peticion al servidor usando http\r\n        $http.post('signUpCandidate', $scope.newCandidate)\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['success']){\r\n\t\t\t\t$scope.signUpCandidateMessage = false;\r\n        \t\t$scope.candidateSuccess = data['success']\r\n        \t\t$scope.newCcandidates = {\r\n\t\t\t\t\tid_number:'',\r\n\t\t\t\t\tnames: '',\r\n\t\t\t\t\tlastnames: '',\r\n\t\t\t\t\tbirthdate: '',\r\n\t\t\t\t\tplace_of_birth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t\tgender: '',\r\n\t\t\t\t\trh: '',\r\n\t\t\t\t\tdate_place_expedition: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t}\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.signUpCandidateMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.signUpCandidateMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\t$scope.loadCandidates = function(){\r\n\r\n\t\t$scope.processing = true;\r\n\t\t\r\n        //peticion al servidor usando http\r\n        $http.post('loadCandidates', [''])\r\n        .success(function(data)\r\n        {\t\r\n        \t\r\n        \tif(data['candidates']){\r\n\t\t\t\t$scope.signUpCandidateMessage = false;\r\n        \t\t$scope.totalCandidates = data['candidates']\r\n        \t\tconsole.log($scope.totalCandidates);\r\n\r\n    \t\t}else{\r\n\r\n    \t\t}\r\n\r\n        \t$scope.processing = false\r\n    \t\t\r\n\r\n        })\r\n        .error(function(data)\r\n        {\r\n        \t$scope.signUpCandidateMessage = [];\r\n\t\t\tfor(var m in data) {\r\n\t\t\t   $scope.signUpCandidateMessage.push(data[m][0]);\r\n\t\t\t}\r\n\t\t\t\r\n        \t$scope.processing = false\r\n        });\r\n\r\n       \r\n\t};\r\n\r\n\r\n\t// Para usar el html en angular\r\n\t$scope.sanitize = function (item) {\r\n\t\tif(!item) return\r\n\t\treturn $sce.trustAsHtml(item);\r\n\t}   \r\n\r\n\r\n\r\n})\r\n","\r\nRegistraduria.directive('xngFocus', function ($timeout) {\r\n    return {\r\n        link: function(scope, element, attrs) {\r\n            scope.$watch(attrs.xngFocus, function(newValue){\r\n                if ( newValue ) {\r\n                    $timeout(function(){\r\n                        element.focus();\r\n                    });\r\n                }\r\n            });\r\n        }\r\n     };\r\n});\r\n\r\n"]}